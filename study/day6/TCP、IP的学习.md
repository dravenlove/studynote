# TCP/IP的学习 #
IP、ICMP、UDP、TELNET、FTP、HTTP都属于TCP/IP协议，TCP/IP泛指这些协议，它们也叫做网际协议群。
----
## 传输协议 ##
### TCP、UDP ###
---
##应用协议##
### HTTP、SMTP、FTP、TELNET、SNMP ###
----
## 路由控制协议 ##
### RIP、OSPF、BGP ###
----
## 网际协议 ##
### IP/ICMP/ARP ###
----
# 数据包 #
## 包、帧、数据包、段、消息 ##
**包是全能术语**
帧表示数据链路层中包的单位。
数据包是IP和UDP等网络层以上的分层中包的单位。
段是TCP数据流中的信息。
消息是应用协议数据的单位。
### 每个分层都会对发送的数据添加一个首部，首部包括该层的必要信息，如以太网包首部包括IP包首部和TCP包首部以及数据，IP包首部包含TCP包首部和数据 ###
-----
## 数据包首部 ##
数据包分为两部分：一部分是协议要用到的首部，另一部分是上一层传输过来的数据。

首部结构由协议具体规范定义。在数据包的首部标明协议如何读取数据。

看到读取包的首部，也就了解了该协议必须的信息以及要处理的数据。
----
## 数据处理流程 ##
### 应用程序编码处理，这些编码相当于OSI表示层功能。 ###
### 编码转化后，不一定马上发送出去，何时通信何时发送，相当于OSI的会话层功能。 ###
## TCP模块的处理 ##
### TCP根据应用指示，负责建立连接、发送数据、断开连接。TCP保证应用层的数据可靠地发送到对端，实现可靠发送必须在应用层数据前端添加一个TCP首部。 ###
## TCP模块的处理 ##
### TCP模块会先计算校验和，判断数据的完整性，再检查是否按照序号接受数据，最后检查端口号，确定具体应用程序。程序被完整接收后会传给由端口号识别的应用程序。 ###
## 应用程序的处理 ##
### 接收端应用程序会直接接受发送端发送的数据，通过解析数据显示对应内容。 ###
------
## 传输层的TCP和UDP ##
### TCP/IP中两个代表性的传输协议是TCP和UDP ###
#### TCP面向连接、可靠的流协议。流指不间断的数据结构，当应用程序采用TCP发送消息时，，虽然可以保证发送顺序，但没有任何间隔的数据流发送给接收端，TCP为了提供可靠传输实行“顺序控制”、“重发控制”机制，“流控制（流量控制）”、“拥塞控制”、提高网络利用率等众多功能。 ####
#### UDP是不可靠的数据报协议，细微的处理会交给上层应用完成，在UDP情况下可以保证发送信息大小但不能保证信息可以到达，应用有时会根据自己的需求重发处理。 ####
#### TCP和UDP的优缺点无法简单比较，TCP在传输层有必要实现可靠运输情况，另一方面，UDP主要用于对高速传输和实时性高的通信或广播。TCP和UDO应该按应用目的 ####
-----
## 端口号 ##
####数据链路和IP中的地址，分别指的是MAC地址和IP地址。前者用来识别同一链路中不同的计算机，后者识别TCP/IP网络互连中互连的主机和路由器。传输层的地址叫端口号，端口号用来识别同一台计算机进行不同通信的不同应用程序，它也叫程序地址。####
----------------
### 根据端口号识别应用 ###
####一台计算机可以同时运行多个程序，传输层协议利用端口号识别本机通信的应用并将数据准确传输。####
### 通过IP地址、端口号、协议号进行通信识别 ###

### 端口号的确定 ###
#### 标准既定的端口号（静态方法）：知名端口号——HTTP、FTP、TELNET等它们在0~1023之间。 ####
#### 时序分配法：服务器有必要确定监听端口号，但是接受服务的客户端没必要确定端口号，在时序分配法下，客户端应用不用自己设置端口号，全权交给操作系统进行分配，动态分配端口在49152~65535之间。 ####

### 端口号与协议 ###
#### 端口号由传输层协议决定，不同的传输层协议可以用相同的端口号。的一瞬间知名端口号和传输协议没有关系，只要端口一致都将分配同一应用程序处理。 ####
#### UDP不提供复杂的控制机制，利用IP提供无连接通信方式，它将应用程序发来的数据在收到，立刻复制发送到网络的机制。传输中产生丢包情况，UDP也不会重发，当包达到顺序乱套也不会有纠正功能，需要UDP的应用程序才能处理。UDP总结：包总量较少的通信（DNS、SNMP），视频、音频多媒体即时通讯，限定于lan等特定网络的应用通信，广播通信（广播、多播）。 ####
#### TCP和UDP的区别很大，TCP充分实现了数据传输时各种控制功能，丢包重发控制，乱序包进行顺序控制。TCP作为一种有面向连接的协议，只有在确定通信对端存在时才会发送数据，避免流量浪费。根据TCP的机制，IP这种无连接的网络也可以实现高可靠通信，通过检验和、序列号、确认应答、重发控制、连接管理、窗口控制等机制。 ####

