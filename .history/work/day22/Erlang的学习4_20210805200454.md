# 基本概念 #

## 启动和停止Erlang shell ##

Unix类系统里用erl来启动Erlang shell,window则是通过电机Window的Erlang图标来启动.

停止Erlang shell的方法是用ctrl+c.

停止系统以a退出可能会损坏某些数据,以q退出可以受控关闭所有打开的文件都会刷入缓存并关闭,数据库停止,所有程序以有序方式关闭,q()是init:stop()命令在shell的别名.

立即停止系统用erlang:halt().

### 在shell里执行命令 ###

在Erlang shell中,第一行为1>,输入表达式``X=20. ``,shell会打印出结果.

在Erlang中%是注释的起点,Erlang编译器和shell会将他们忽略.

### Erlang shell的快捷键命令 ###

Ctrl+A:行首

Ctrl+D:删除当前字符

Ctrl+E:行尾

Ctrl+F:向前字符

Ctrl+B:向后字符

Ctrl+↑:前一行

Ctrl+↓:后一行

tab:快速补全

## 简单的整数运算 ##

Erlang整数运算精确,无需担心运算溢出.

## 变量 ##

可以把某个结果存在变量里,但是变量不能再次存入,相当于常量.

X=10. 

X不是一个变量,=不是赋值操作符,是一个模式匹配操作符.

Erlang的变量是一次赋值变量,它只能被赋值一次,如果想赋值之后再次赋值,编译器或Erlang shell会报错.

已被指派值的变量叫绑定变量,未指派值的变量叫未绑定变量.

未绑定变量就像一个等待填充的空槽一样,一旦绑定一个值就会永久保留它.

=是一个模式匹配操作符.变量的作用域是他定义时所处的词汇单元,如果X被用在单独的函数子句内,它的值只在这个子句内才能用,不是全局变量.如果X出现在不同的函数里面,他们都不相干.

### 变量绑定和模式匹配 ###

Erlang中,变量获得值是一次成功的模式匹配操作的结果.

变量是模式的一种简单形式,如之前所说,变量只能赋值一次,Lhs=Rhs是把右边的值计算出来,然后将结果与左侧的模式相匹配.

没有副作用意味着可以让程序并行,可以修改的内存区域有个专业术语叫可变状态,Erlang是一种函数式编程语言具有不可变状态.

### 一次性赋值的优点 ###
Erlang中,变量是对某个值的引用:Erlang的实现方式为指针代表绑定变量,指向一个包含值的存储区,该值不能被改变.

这个值不能改变很重要,和C和Java这些命令式语言存在区别.

使用不可变变量简化调试工作.

程序出错的最主要方式是某个变量有意料之外的值,一旦发现某个变量出错就必须检查程序找到绑定变量的地方,因为Erlang的变量是不可变的,所以生成改变这个变量的代码肯定是错的,命令式语言中,变量可以多次修改,这样每个修改变量的地方都有可能发生错误,而Erlang只有定义变量的地方有可能发生,寻找Bug的方式变得简单了.

## 浮点数 ##
    
当给两个整数做除法,结果会自动转换成浮点数,因此5/3的值是1.6666666666667.

要在除法中获得整数结果必须用div和rem来获得.

5 div 3.
结果为1,自动舍去余数.

5 rem 3.
结果为2,自动补全余数.

Erlang内部用64位IEEE 754-1986浮点数,因此浮点数程序会有C语言一样的浮点数取整和精度的问题.

## 原子 ##

Erlang中,原子被用来表示常量值.

