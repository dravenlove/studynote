# C++的学习 #

## 对象的初始化和清理 ##

### 构造函数和析构函数 ###

对象的初始化和清理十分重要。

对象没有初始化，使用后果未知，所以用完的对象和变量要及时清理。

C++利用构造函数和析构函数解决上述问题，两个函数被编译器自动调用，完成对象初始化和清理工作。

对象的初始化和清理工作是编译器强制我们做的事，假如我们不提供构造和析构，编译器会提供构造。

**编译器提供的构造函数和析构函数是空实现。**

1.构造函数：创建对象时为对象的成员赋值，构造函数由编译器自动调用。

2.析构函数：对象销毁前系统自动调用，执行清理工作。

### 构造函数 ###

```类名(){}```

1.构造函数没有返回值也不写void.
2.函数名称与类名相同.
3.构造函数可以有参数,因此可以发生重载.
4.程序调用对象时候会自动调用构造,无需手动且只调用一次.

析构函数语法:

```~类名(){}```
1.析构函数没有返回值也不写void.
2.函数名称和类名相同,在类名前面加上~.
3.析构函数不可以由参数,所以不发生重载.
4.程序在对象摧毁前自动调用析构,无需手动且只调用一次.

### 构造函数的分类和调用　###

按参数分类分为:有参构造和无参构造.

按类型分类分有:普通构造和拷贝构造.

三种调用构造函数的方法:
1.括号法.
2.显示法.
3.隐式转换法.

### 拷贝构造函数调用时机 ###

1.使用一个已创建完毕的对象初始化一个新对象.

2.值传递的方式给函数参数传值.

3.以值方式返回局部对象.

构造函数的调用规则:

1.如果用户定义有参构造函数,C++不再提供默认的无参构造,但是回提供默认拷贝构造.

2.如果用户定义拷贝构造函数,C++不再提供其他构造函数.


### 深拷贝、浅拷贝 ###

浅拷贝:简单的赋值拷贝操作.

深拷贝:堆区重新申请空间,进行拷贝操作.

### 初始化列表 ###

C++提供了初始化列表语法,用来初始化属性.

```构造函数():属性1(值1),属性2(值2),...{}```


### 类成员作为类对象 ###

C++类中的成员可以是另一个类的对象,我们称该成员为成员对象.

### 静态成员 ###

静态成员就是在成员变量和成员函数钱加上关键字static.

静态成员分为:

1.静态成员变量:
所有对象共享一份数据.
编译阶段分配内存.
类内声明,类外初始化.

2.静态成员函数:
所有对象共享同一个函数.
静态成员函数只能访问静态成员变量.

## C++对象模型和this指针 ##

### 成员变量和成员函数分开存储 ###

C++中,类内成员变量和成员函数分开存储.

非静态成员变量才属于类的对象上.

### this指针 ###

每一个非静态成员函数只会诞生一份函数实例,多个同类型的对象会共用一块代码.

C++通过利用this指针指向被调用的成员函数所属对象.

